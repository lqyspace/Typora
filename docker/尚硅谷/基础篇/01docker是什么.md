[toc]

## docker是什么

如果希望在本地模拟测试和生产环境而不产生重新创建服务器环境的开销，那么就可以使用docker。

**系统平滑移植，容器虚拟化技术。**

把源码、配置、环境、版本打包成一个镜像文件。

以前代码即应用的观念被打破，有了docker以后，镜像即应用，通过镜像文件将作业系统核心除外，运作应用程序所需要的系统环境，由下而上打包，达到应用程序跨平台的无缝接轨运作。

## docker理念

**重点：一次镜像，处处运行！！！**

例如：**VMware其实就相当于是docker，centos7其实就相当于你的应用所打包成的镜像文件**，比如**谷粒商城项目.镜像文件**

## docker简介

Docker是基于Go语言实现的云开源项目。

主要目标是“Build、Ship and Run Any App，Anywhere”，也就是通过对应用组件的封装、分发、部署、运行等生命周期的管理，使用户的APP（可以是WEB应用或者数据库应用等等）及其运行环境能够做到“**一次镜像、处处运行**”。

![image-20241124174454489](https://fastly.jsdelivr.net/gh/lqyspace/mypic@master/img1/202411241745550.png)

Linux容器技术的出现就解决了这样的一个问题，而Docker就是在它的基础上发展过来的。将应用打包成镜像，通过镜像成为运行在Docker容器上面的实例，而Docker容器在任何操作系统上都是一致的，这就实现了跨平台、跨服务器。只需要一次配置好环境，换到别的机子上就可以一键部署好，大大简化了操作。

**一句话：解决了运行环境和配置问题的软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术。**



## 容器与虚拟机比较

虚拟机（virtual machine）就是带环境安装的一种解决方案。

缺点：资源占用多、冗余步骤多、启动慢

由于虚拟机存在的许多缺点，Linux提出了另一种虚拟化技术：

Linux容器（Linux Containers，缩写LXC）：Linux容器是与系统其他部分隔离开的一系列进程，从另一个镜像运行，并由该镜像提供支持进程所需要的全部文件。容器提供的镜像包含了应用的所有依赖项，因而在从开发到测试再到生产的整个过程中，它都具有可移植性和一致性。

Linux容器不是模拟一个完整的操作系统而是对进程进行隔离。有了容器，就可以将软件运行所需的所有资源打包到一个隔离的容器中。容器与虚拟机不同，不需要捆绑一整套操作系统，只需要软件工作所需的库资源和设置。系统因此变的高效轻量并保证部署在任何环境中的软件都能始终如一的运行。

![image-20241124181835559](https://fastly.jsdelivr.net/gh/lqyspace/mypic@master/img1/202411241818590.png)

Docker容器是在操作系统层面实现的虚拟化，直接复用本地主机的操作系统，而传统虚拟化则是直接在硬件层面上实现的虚拟化，与传统的虚拟机相比，Docker的优势体现在启动速度快，占用体积小。



**比较Docker和传统虚拟机的不同之处：**

- 传统的虚拟机技术是虚拟出一套硬件后，在其上运行一个完整的操作系统，在该操作系统上在运行所需应用进程；
- 容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核且也没有进行硬件虚拟。因此容器比传统虚拟机更为轻便。
- 每个容器之间相互隔离，每个容器有自己的文件系统，容器之间进程不会相互影响，能区分计算资源。



docker一次构建，到处运行：

- 更快速的应用交付和部署
  - 只需要交付少量容器镜像文件，在正式生产环境上运行即可。应用安装配置已经在镜像里内置好，大大节省了部署配置和测试验证的时间
- 更便捷的升级和扩缩容
  - 随着微服务架构和Docker的快速发展，大量的应用会通过微服务方式架构，应用的开发构建将变成搭积木一样简单，应用的升级变的非常简单。当现有的容器不足以支撑业务处理时，可通过镜像运行新的容器进行快速的扩容。
- 更简单的系统运维
  - 容器将应用程序相关的环境和状态封装起来，不会因为底层基础架构和操作系统的不一致给应用带来影响，当产生bug时，也可以通过测试环境进行快速的定位和修复。
- 更高效的计算资源利用
  - Docker是内核级虚拟化技术，并不像传统的虚拟化技术一样需要额外的Hypervisor支持，所以在一台物理机上可以运行很多容器实例，大大提高物理服务器的CPU和内存利用率。



## docker下载

官网：[https://www.docker.com/](https://www.docker.com/)

GitHub：[https://hub.docker.com/](https://hub.docker.com/)：安装docker镜像的仓库