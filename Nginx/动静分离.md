# 动静分离



## 使用动静分离的场景

![image-20220523005023585](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202205230050719.png)

- **适合中小型网站**
- **起到系统加速的作用**

![image-20220523005310341](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202205230053416.png)

- tomcat 负责处理动态请求，同时也负责发送静态资源。



## 动静分离的原理

![image-20220523005424178](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202205230054264.png)

- 直接将静态资源放到Nginx里，不再让tomcat发送
- 而动态请求则通过tomcat进行发送



## Nginx动静分离配置

> 简单的配置方法

1、将应用服务器的静态资源删除。

2、将应用服务器的静态资源传到 Nginx 代理服务器上。

3、多写几个location应用于静态资源。

```
server {
	listen 80;
	server_name localhost;
	
	location / {
		proxy_pass http://192.168.122.113:8080;
	}
	
	location /css {
		root html;
		index index.html index.htm;
	}
	location /js {
		root html;
		index index.html index.htm;
	}
	location /img {
		root html;
		index index.html index.htm;
	}
}
```

![image-20220523011003232](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202205230110315.png)