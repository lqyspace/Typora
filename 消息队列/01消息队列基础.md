[TOC]

# 1、消息队列有什么用

- 异步处理任务
- 限流：将任务限制在队列中，按照服务端的消费能力处理，防止所有数据涌向服务端
- 降低系统耦合：生产者-消费者模式，实现两个模块的解耦

# 2、使用消息列队带来的问题

- 系统复杂性提高
- 数据一致性问题（消息重复、消息丢失）

# 3、有哪些队列模式

**JMS中有两种，API的模型**

- P2P的队列模型
- Pub/Sub发布订阅模型（广播），用topic作为主题发送给订阅该主题的消费者

**AMQP高级消息队列协议有5种，常用3种**

基于不同交换机实现对应的队列模型：

- fanout扇出：广播
- direct订阅：根据路由key发送对应的消息队列
- topic通配符订阅：根据通配符描述的路由key发送对应的消息队列
- headers：根据消息头匹配   用的少