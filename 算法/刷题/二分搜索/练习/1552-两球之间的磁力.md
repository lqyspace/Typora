# 1552-两球之间的磁力

[1552-两球之间的磁力](https://leetcode.cn/problems/magnetic-force-between-two-balls/)，难度中等

延伸：这道题和力扣 410、1011、1482、1552、1760、2187、2226 属于同一类题

![image-20230823163732386](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202308231637472.png)

总结：

- 让我求谁，谁就是自变量
- 找与自变量相关的单调关系，一般都是题目中已经给出的一个已知量
- **所以，这道题的自变量是磁力大小，因变量是球的个数**
- 由于最小磁力v最大化了，因此我们需要用二分搜索求右边界

延伸：这道题和力扣 410、1011、1482、1552、1760、2187、2226 属于同一类题

```java
class Solution {
    public int maxDistance(int[] position, int m) {
		// 球的最低距离：n个位置有n个球的话，最低距离为1
        // 球的最高距离：只有两个球的话，这两个球的距离为最大值-最小值，极端情况下：10^9-1
        int left = 1, right = 1000000000;
        while(left < right){
            int mid = left + (right - left)/2;
            if(f(position, mid) < m)
                right = mid;
            else left = mid+1;
        }
        return left-1;
    }
    
    public int f(int[] nums, int v){
        // 这个函数表示：在最低磁力v最大化的情况下，可以有几个球满足条件
        // 这个v表示磁力大小, m表示球的个数
        // 对数组排序
        Arrays.sort(nums);
        // 看这个磁力大小，能满足几个球
        int m = 0;
        // 双指针
        int left = 0, right = 0;
        while(left < nums.length && right < nums.length){
            if(nums[right]-v >= nums[left]) {
                m++;
                left = right;
            } else {
                right++;
            }            
        }
        return m;        
    }
}
```

