# 2336-无限集中的最小数字

[2336-无限集中的最小数字](https://leetcode.cn/problems/smallest-number-in-infinite-set/description/?envType=daily-question&envId=2023-11-29)，难度中等

![image-20231129162055745](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202311291620841.png)

题解：**有序集合**

我的代码：

```java
class SmallestInfiniteSet {
    int min;
    PriorityQueue<Integer> pq;
    public SmallestInfiniteSet() {
        pq = new PriorityQueue<Integer>();
        min = 1;
    }
    
    public int popSmallest() {
        int val = min;
        while(pq.contains(val)){
            val++;
        }
        pq.offer(val);
        min = val+1;
        return val;
    }
    
    public void addBack(int num) {
        if(pq.contains(num)){
            pq.remove(num);
            if(num<min){
                min = num;
            }
        }
            
    }
}

/**
 * Your SmallestInfiniteSet object will be instantiated and called as such:
 * SmallestInfiniteSet obj = new SmallestInfiniteSet();
 * int param_1 = obj.popSmallest();
 * obj.addBack(num);
 */
```

虽然全部A过了，但是时间复杂度还是挺高的。接下来看官方的解法：

官方的解法就很巧妙，利用了两个变量来进行最小值的删除：**首先利用了一个thres遍历来表示大于等于thres的无限集合，这个集合里面的数字是都可以被删除的；然后又定义了一个有序数组set，这个集合表示通过add添加进去的可以被删除的数字集合。所以在进行删除操作时，如果set的集合不为空，那么一定就可以在set中删除元素，如果set集合为空，那么只能通过thres来删除最小值。**

![image-20231129163009485](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202311291630538.png)

```java
class SmallestInfiniteSet {
    int thres;
    TreeSet<Integer> set;
    public SmallestInfiniteSet() {
        thres = 1;
        set = new TreeSet<>();
    }
    
    public int popSmallest() {
        int ans = 0;
        if(set.isEmpty()){
            ans = thres;
            thres++;
        }else{
            ans = set.pollFirst();
        }
        return ans;
    }
    
    public void addBack(int num) {
        if(num < thres){
            set.add(num);//大于thres的数字没有添加的必要
        }
    }
}

/**
 * Your SmallestInfiniteSet object will be instantiated and called as such:
 * SmallestInfiniteSet obj = new SmallestInfiniteSet();
 * int param_1 = obj.popSmallest();
 * obj.addBack(num);
 */
```