# 630-课程表III

[630-课程表](https://leetcode.cn/problems/course-schedule-iii/description/?envType=daily-question&envId=2023-09-11)，难度困难

![image-20230911023740660](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202309110237909.png)

题解：请看[官方题解](https://leetcode.cn/problems/course-schedule-iii/solutions/1155605/ke-cheng-biao-iii-by-leetcode-solution-yoyz/?envType=daily-question&envId=2023-09-11)，好好看，看完你就懂了

这道题我是看完了题解了，然后自己打出来，不断调错调出来的代码，值得表扬

```java
class Solution {
    public int scheduleCourse(int[][] courses) {
        // 先排序
        Arrays.sort(courses, new Comparator<int[]>(){
            public int compare(int[] a, int[] b){
                return a[1] - b[1];
            }
        });

        int ans = 0;
        int time = 0;
        PriorityQueue<int[]> pq = new PriorityQueue<>((a, b)->{
            return b[0] - a[0];
        });
        
        for(int i=0; i<courses.length;i++){
            if(time + courses[i][0] <= courses[i][1]){
                time += courses[i][0];
                pq.offer(courses[i]);
                ans++;
            }else if(!pq.isEmpty()){// 为空了其实没意义了
                int[] head = pq.peek();
                if(head[0]<=courses[i][0]){
                    // 如果小于的话，就没有更新的 必要了，已经是最小值了
                    continue;
                } else {// 替换
                    pq.poll();
                    pq.offer(courses[i]);
                    time -= (head[0]-courses[i][0]);
                }
            }
        }
        return ans;
    }
}
```

