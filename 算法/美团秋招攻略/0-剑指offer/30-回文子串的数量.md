# 647-回文子串

[647-回文子串](https://leetcode.cn/problems/palindromic-substrings/description/?envType=study-plan-v2&envId=meituan-2023-fall-sprint)，难度中等

![image-20230901125127752](https://raw.githubusercontent.com/lqyspace/mypic/master/PicBed/202309011251798.png)

```java
class Solution {
    public int countSubstrings(String s) {
        int n = s.length();
        int count = n;
        boolean[][] dp = new boolean[n][n];
        for(int i=0; i<n; i++){
            dp[i][i] = true;
        }
        for(int L = 2; L<=n; L++){
            for(int i=0; i<n; i++){
                int j = i+L-1;
                if(j>=n) break;
                dp[i][j] = s.charAt(i)==s.charAt(j) && (j-i<=2 || dp[i+1][j-1]);
                if(dp[i][j])
                    count++;
            }
        }
        return count;
    }
}
```

其他解法：

```java
class Solution {
    public int countSubstrings(String s) {
        int n = s.length();
        boolean[][] dp = new boolean[n][n];
        // dp[i][j]表示字符串s在[i,j]区间的子串是否是一个回文字符串；状态转移方程：
        // 当s[i]==s[j] && (j-i<2 || dp[i+1][j-1]) 时，dp[i][j]=true, 否则为 false。
        int ans=0;

        for(int j=0; j<n; j++){
            for(int i=0; i<=j; i++){
                dp[i][j] = s.charAt(i)==s.charAt(j) && (j-i<2 || dp[i+1][j-1]);
                if(dp[i][j]){
                    ans+=1;
                }
            }
        }

        return ans;
    }
}
```

